# üßæ Russian Invoice Generator

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—á–µ—Ç–æ–≤-—Ñ–∞–∫—Ç—É—Ä —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÑ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF —Å—á–µ—Ç–æ–≤** –∏–∑ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
- üì± **QR-–∫–æ–¥—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã** (—Å—Ç–∞–Ω–¥–∞—Ä—Ç –°–ü–ö–† –ì–û–°–¢ –† 56042-2014)
- üî¢ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è** —Å—á–µ—Ç–æ–≤ (–≤–æ—Å—å–º–µ—Ä–∏—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ yyyymm)
- üî§ **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å—É–º–º –≤ —Ç–µ–∫—Å—Ç** –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–∫–ª–æ–Ω–µ–Ω–∏—è–º–∏
- üñäÔ∏è **–¶–∏—Ñ—Ä–æ–≤—ã–µ –ø–æ–¥–ø–∏—Å–∏** (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–µ–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –∏ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∞)
- üí∞ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ù–î–°** —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ —Å—Ç–∞–≤–∫–∞–º–∏
- üñ•Ô∏è **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å** (Windows/Linux/macOS)
- ‚ö° **Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞** –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—á–µ—Ç–æ–≤

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd invoice-generator
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–ø–∫–∏:
```bash
mkdir -p templates output signatures
```

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—Ä–∏–º–µ—Ä

```python
# Windows
from invoice_generator_reportlab import InvoiceGeneratorReportLab as Generator

# Linux/macOS  
# from invoice_generator import InvoiceGenerator as Generator

generator = Generator()

invoice_data = {
    'client_name': '–û–û–û "–ö–ª–∏–µ–Ω—Ç"',
    'client_address': '–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 123',
    'items': [
        {'description': 'Web-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞', 'quantity': 1, 'price': 50000, 'total': 50000},
        {'description': '–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞', 'quantity': 3, 'price': 15000, 'total': 45000},
    ],
    'subtotal': 95000,
    'vat_rate': 20,
    'vat_amount': 19000,
    'total_amount': 114000,
    'payment_data': {
        'name': '–û–û–û "–í–∞—à–∞ –ö–æ–º–ø–∞–Ω–∏—è"',
        'personal_acc': '40702810900000000001',
        'bank_name': '–ü–ê–û "–°–±–µ—Ä–±–∞–Ω–∫"',
        'bic': '044525225',
        'corresp_acc': '30101810400000000225',
        'payee_inn': '1234567890',
        'kpp': '123456789',
        'sum': '114000',
        'purpose': '–û–ø–ª–∞—Ç–∞ –ø–æ —Å—á–µ—Ç—É ‚ÑñINV-613414'
    }
}

pdf_path = generator.generate_invoice(invoice_data)
print(f"‚úÖ –°—á–µ—Ç —Å–æ–∑–¥–∞–Ω: {pdf_path}")
```

### –° –ø–æ–¥–ø–∏—Å—è–º–∏ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è

```python
from signature_utils import SignatureManager, add_signature_to_invoice_data

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–ø–∏—Å–µ–π
sig_manager = SignatureManager()
invoice_data = add_signature_to_invoice_data(
    invoice_data, 
    sig_manager,
    director_sig="director_signature.png",
    accountant_sig="accountant_signature.png"
)

pdf_path = generator.generate_invoice(invoice_data)
```

### –ú–∞—Å—Å–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

```python
# –°–º–æ—Ç—Ä–∏—Ç–µ example_usage.py –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ batch-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
clients = ['–û–û–û "–ê–ª—å—Ñ–∞"', '–ò–ü –ò–≤–∞–Ω–æ–≤ –ò.–ò.', '–ó–ê–û "–ë–µ—Ç–∞"']
for client in clients:
    # ... –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    pdf_path = generator.generate_invoice(client_data)
    print(f"–°–æ–∑–¥–∞–Ω —Å—á–µ—Ç –¥–ª—è {client}: {pdf_path}")
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–∞–Ω–∏–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `local_config.py` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `setup.py`):

```python
COMPANY_INFO = {
    'name': '–û–û–û "–í–∞—à–∞ –ö–æ–º–ø–∞–Ω–∏—è"',
    'address': '–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, –¥. 10, –æ—Ñ–∏—Å 205',
    'inn': '1234567890',
    'kpp': '123456789',
    'phone': '+7 (495) 123-45-67',
    'email': 'info@yourcompany.ru'
}

BANK_INFO = {
    'name': '–û–û–û "–í–∞—à–∞ –ö–æ–º–ø–∞–Ω–∏—è"',
    'personal_acc': '40702810900000000001',
    'bank_name': '–ü–ê–û "–°–±–µ—Ä–±–∞–Ω–∫"',
    'bic': '044525225',
    'corresp_acc': '30101810400000000225',
    'payee_inn': '1234567890',
    'kpp': '123456789'
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–µ–π

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–µ–π –≤ –ø–∞–ø–∫—É `signatures/`:
   - `director_signature.png` - –ø–æ–¥–ø–∏—Å—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è
   - `accountant_signature.png` - –ø–æ–¥–ø–∏—Å—å –≥–ª–∞–≤–Ω–æ–≥–æ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∞

2. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: PNG, JPG, JPEG, GIF
3. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 200x50 –ø–∏–∫—Å–µ–ª–µ–π
4. –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω (PNG) –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
invoice-generator/
‚îú‚îÄ‚îÄ invoice_generator.py    # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å
‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ templates/            # HTML-—à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ invoice.html      # –®–∞–±–ª–æ–Ω —Å—á–µ—Ç–∞
‚îú‚îÄ‚îÄ output/               # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ PDF
‚îú‚îÄ‚îÄ signatures/           # –§–∞–π–ª—ã –ø–æ–¥–ø–∏—Å–µ–π
‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –®–∞–±–ª–æ–Ω—ã

–®–∞–±–ª–æ–Ω—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Jinja2 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å. –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

- `invoice_number` - –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞
- `invoice_date` - –¥–∞—Ç–∞ —Å—á–µ—Ç–∞
- `client_name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
- `items` - —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤/—É—Å–ª—É–≥
- `total_amount` - –æ–±—â–∞—è —Å—É–º–º–∞
- `amount_in_words` - —Å—É–º–º–∞ –ø—Ä–æ–ø–∏—Å—å—é
- `qr_code` - QR-–∫–æ–¥ –¥–ª—è –æ–ø–ª–∞—Ç—ã

## QR-–∫–æ–¥—ã

QR-–∫–æ–¥—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –°–ü–ö–† (–ì–û–°–¢ –† 56042-2014) –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç:
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
- –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
- –°—É–º–º—É –ø–ª–∞—Ç–µ–∂–∞
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞

## –ù—É–º–µ—Ä–∞—Ü–∏—è —Å—á–µ—Ç–æ–≤

–ù–æ–º–µ—Ä–∞ —Å—á–µ—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É:
```
YYYYMM ‚Üí –≤–æ—Å—å–º–µ—Ä–∏—á–Ω–æ–µ —á–∏—Å–ª–æ ‚Üí INV-XXXXXXX
```

–ù–∞–ø—Ä–∏–º–µ—Ä: 202412 ‚Üí 754734‚Çà ‚Üí INV-754734

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- WeasyPrint (–¥–ª—è PDF)
- Jinja2 (–¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤)
- qrcode (–¥–ª—è QR-–∫–æ–¥–æ–≤)
- num2words (–¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ —Å–ª–æ–≤–∞)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
